<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>SqlResult | hazelcast-client</title>
	<meta name="description" content="Documentation for hazelcast-client">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="../assets/css/main.css">
	<script async src="../assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="../assets/js/search.json" data-base="..">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="../index.html" class="title">hazelcast-client</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="../modules.html">hazelcast-client</a>
				</li>
				<li>
					<a href="../modules/sql_SqlResult.html">sql/SqlResult</a>
				</li>
				<li>
					<a href="sql_SqlResult.SqlResult.html">SqlResult</a>
				</li>
			</ul>
			<h1>Interface SqlResult</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<section class="tsd-panel tsd-comment">
				<div class="tsd-comment tsd-typography">
					<div class="lead">
						<p>SQL query result. Depending on the statement type it represents a stream of rows or an update count.</p>
					</div>
					<a href="#iteration" id="iteration" style="color: inherit; text-decoration: none;">
						<h3>Iteration</h3>
					</a>
					<p>An <code>SqlResult</code> is an async iterable of <a href="../modules/sql_SqlResult.html#SqlRowType">SqlRowType</a> which is either an <a href="sql_SqlRow.SqlRow.html">SqlRow</a> or regular JavaScript objects.
						By default it returns regular JavaScript objects, containing key and values. Keys represent column names, whereas
						values represent row values. The default object returning behavior can be changed via the option
					<a href="sql_SqlStatement.SqlStatementOptions.html#returnRawResult">SqlStatementOptions.returnRawResult</a>. If it is true, <a href="sql_SqlRow.SqlRow.html">SqlRow</a> objects are returned instead of regular objects.</p>
					<p>Values in SQL rows are deserialized lazily. While iterating you will get a <a href="../classes/core_HazelcastError.HazelcastSqlException.html">HazelcastSqlException</a> if a value in SQL row
					cannot be deserialized.</p>
					<p>Use <a href="sql_SqlResult.SqlResult.html#close">close</a> to release the resources associated with the result.</p>
					<p>An <code>SqlResult</code> can be iterated only once.</p>
					<a href="#for-await-of" id="for-await-of" style="color: inherit; text-decoration: none;">
						<h4>for-await... of</h4>
					</a>
					<p>Refer to <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for-await...of">for-await... of</a>
					page for more information.</p>
					<pre><code class="language-js"><span style="color: #AF00DB">for</span><span style="color: #000000"> </span><span style="color: #AF00DB">await</span><span style="color: #000000"> (</span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">row</span><span style="color: #000000"> </span><span style="color: #0000FF">of</span><span style="color: #000000"> </span><span style="color: #001080">result</span><span style="color: #000000">) {</span>
<span style="color: #000000">    </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">row</span><span style="color: #000000">);</span>
<span style="color: #000000">}</span>
</code></pre>
					<a href="#next" id="next" style="color: inherit; text-decoration: none;">
						<h4>next()</h4>
					</a>
					<p>Another approach of iterating rows is using the <a href="sql_SqlResult.SqlResult.html#next">next</a> method. Every call to <code>next</code> returns an object with <code>done</code> and
						<code>value</code> properties. <code>done</code> is <code>false</code> when there are more rows to iterate, <code>true</code> otherwise. <code>value</code> holds the current row
						value. Refer to <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Iterators_and_Generators">iterators</a> for more
					information about iteration in JavaScript.</p>
					<pre><code class="language-js"><span style="color: #0000FF">let</span><span style="color: #000000"> </span><span style="color: #001080">row</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">result</span><span style="color: #000000">.</span><span style="color: #795E26">next</span><span style="color: #000000">();</span>
<span style="color: #AF00DB">while</span><span style="color: #000000"> (!</span><span style="color: #001080">row</span><span style="color: #000000">.</span><span style="color: #001080">done</span><span style="color: #000000">) {</span>
<span style="color: #000000">    </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">row</span><span style="color: #000000">.</span><span style="color: #001080">value</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">row</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">result</span><span style="color: #000000">.</span><span style="color: #795E26">next</span><span style="color: #000000">();</span>
<span style="color: #000000">}</span>
</code></pre>
					<a href="#usage-for-update-count" id="usage-for-update-count" style="color: inherit; text-decoration: none;">
						<h3>Usage for update count</h3>
					</a>
					<pre><code class="language-js"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">updateCount</span><span style="color: #000000"> = </span><span style="color: #001080">result</span><span style="color: #000000">.</span><span style="color: #001080">updateCount</span><span style="color: #000000">; </span><span style="color: #008000">// A Long object</span>
</code></pre>
					<p>You don&#39;t need to call <a href="sql_SqlResult.SqlResult.html#close">close</a> in this case.</p>
				</div>
			</section>
			<section class="tsd-panel tsd-hierarchy">
				<h3>Hierarchy</h3>
				<ul class="tsd-hierarchy">
					<li>
						<span class="tsd-signature-type">AsyncIterable</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">SqlRowType</span><span class="tsd-signature-symbol">&gt;</span>
						<ul class="tsd-hierarchy">
							<li>
								<span class="target">SqlResult</span>
							</li>
						</ul>
					</li>
				</ul>
			</section>
			<section class="tsd-panel-group tsd-index-group">
				<h2>Index</h2>
				<section class="tsd-panel tsd-index-panel">
					<div class="tsd-index-content">
						<section class="tsd-index-section ">
							<h3>Properties</h3>
							<ul class="tsd-index-list">
								<li class="tsd-kind-property tsd-parent-kind-interface"><a href="sql_SqlResult.SqlResult.html#rowMetadata" class="tsd-kind-icon">row<wbr>Metadata</a></li>
								<li class="tsd-kind-property tsd-parent-kind-interface"><a href="sql_SqlResult.SqlResult.html#updateCount" class="tsd-kind-icon">update<wbr>Count</a></li>
							</ul>
						</section>
						<section class="tsd-index-section ">
							<h3>Methods</h3>
							<ul class="tsd-index-list">
								<li class="tsd-kind-method tsd-parent-kind-interface"><a href="sql_SqlResult.SqlResult.html#close" class="tsd-kind-icon">close</a></li>
								<li class="tsd-kind-method tsd-parent-kind-interface"><a href="sql_SqlResult.SqlResult.html#isRowSet" class="tsd-kind-icon">is<wbr>Row<wbr>Set</a></li>
								<li class="tsd-kind-method tsd-parent-kind-interface"><a href="sql_SqlResult.SqlResult.html#next" class="tsd-kind-icon">next</a></li>
							</ul>
						</section>
					</div>
				</section>
			</section>
			<section class="tsd-panel-group tsd-member-group ">
				<h2>Properties</h2>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface">
					<a name="rowMetadata" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagReadonly">Readonly</span> row<wbr>Metadata</h3>
					<div class="tsd-signature tsd-kind-icon">row<wbr>Metadata<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">SqlRowMetadata</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in src/sql/SqlResult.ts:116</li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>SQL row metadata if rows exist in the result; otherwise null.</p>
						</div>
					</div>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface">
					<a name="updateCount" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagReadonly">Readonly</span> update<wbr>Count</h3>
					<div class="tsd-signature tsd-kind-icon">update<wbr>Count<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Long</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in src/sql/SqlResult.ts:127</li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>The number of rows updated by the statement or <code>-1</code> if this result is a row set.</p>
						</div>
					</div>
				</section>
			</section>
			<section class="tsd-panel-group tsd-member-group ">
				<h2>Methods</h2>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface">
					<a name="close" class="tsd-anchor"></a>
					<h3>close</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface">
						<li class="tsd-signature tsd-kind-icon">close<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in src/sql/SqlResult.ts:111</li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Releases the resources associated with the query result.</p>
								</div>
								<p>The query engine delivers the rows asynchronously. The query may become inactive even before all rows are
									consumed. The invocation of this command will cancel the execution of the query on all members if the query
								is still active. Otherwise it is no-op. For a result with an update count it is always no-op.</p>
							</div>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface">
					<a name="isRowSet" class="tsd-anchor"></a>
					<h3>is<wbr>Row<wbr>Set</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface">
						<li class="tsd-signature tsd-kind-icon">is<wbr>Row<wbr>Set<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in src/sql/SqlResult.ts:122</li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Return whether this result has rows to iterate. False if update count is returned, true if rows are returned.</p>
								</div>
							</div>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4>
							<p>whether this result is a row set</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface">
					<a name="next" class="tsd-anchor"></a>
					<h3>next</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface">
						<li class="tsd-signature tsd-kind-icon">next<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">IteratorResult</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">SqlRowType</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in src/sql/SqlResult.ts:102</li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p> Returns next <a href="../modules/sql_SqlResult.html#SqlRowType">SqlRowType</a> iteration result. You should not call this method when result does not contain
									rows.</p>
								</div>
								<dl class="tsd-comment-tags">
									<dt>throws</dt>
									<dd><p><a href="../classes/core_HazelcastError.IllegalStateError.html">IllegalStateError</a> if result does not contain rows, but update count.</p>
									</dd>
									<dt>throws</dt>
									<dd><p><a href="../classes/core_HazelcastError.HazelcastSqlException.html">HazelcastSqlException</a> if a value in current row cannot be deserialized.</p>
									</dd>
								</dl>
							</div>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">IteratorResult</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">SqlRowType</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>an object including <code>value</code> and <code>done</code> keys. The <code>done</code> key indicates if
								iteration is ended, i.e when there are no more results. <code>value</code> holds iteration values which are in SqlRowType type.
							<code>value</code> has undefined value if iteration has ended.</p>
						</li>
					</ul>
				</section>
			</section>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="../modules.html">Modules</a>
					</li>
					<li class="current tsd-kind-module">
						<a href="../modules/sql_SqlResult.html">sql/<wbr>Sql<wbr>Result</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
				<ul class="current">
					<li class="current tsd-kind-interface tsd-parent-kind-module">
						<a href="sql_SqlResult.SqlResult.html" class="tsd-kind-icon">Sql<wbr>Result</a>
						<ul>
							<li class=" tsd-kind-property tsd-parent-kind-interface">
								<a href="sql_SqlResult.SqlResult.html#rowMetadata" class="tsd-kind-icon">row<wbr>Metadata</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-interface">
								<a href="sql_SqlResult.SqlResult.html#updateCount" class="tsd-kind-icon">update<wbr>Count</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-interface">
								<a href="sql_SqlResult.SqlResult.html#close" class="tsd-kind-icon">close</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-interface">
								<a href="sql_SqlResult.SqlResult.html#isRowSet" class="tsd-kind-icon">is<wbr>Row<wbr>Set</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-interface">
								<a href="sql_SqlResult.SqlResult.html#next" class="tsd-kind-icon">next</a>
							</li>
						</ul>
					</li>
				</ul>
				<ul class="after-current">
					<li class=" tsd-kind-type-alias tsd-parent-kind-module">
						<a href="../modules/sql_SqlResult.html#SqlRowAsObject" class="tsd-kind-icon">Sql<wbr>Row<wbr>AsObject</a>
					</li>
					<li class=" tsd-kind-type-alias tsd-parent-kind-module">
						<a href="../modules/sql_SqlResult.html#SqlRowType" class="tsd-kind-icon">Sql<wbr>Row<wbr>Type</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
				<li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="../assets/js/main.js"></script>
</body>
</html>